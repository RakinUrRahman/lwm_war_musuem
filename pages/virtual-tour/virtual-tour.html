<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Virtual Tour - Liberation War Museum</title>
    
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<!-- Fonts & Main CSS -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap">
	<link rel="stylesheet" href="../../assets/css/lwm.css">
	<!-- Virtual Tour Page CSS -->
	<link rel="stylesheet" href="virtual-tour.css">
</head>
<body>
	<div class="app" id="app">
		<aside class="side" id="side">
			<div class="brand">
				<div class="logo">LWM</div>
				<div>
					<h1 style="font-size:20px">Digital Liberation War Museum</h1>
					<div class="muted" style="font-size:13px">Honoring Bangladesh's History</div>
				</div>
			</div>

			<nav role="navigation" aria-label="Main menu" id="nav"></nav>

			<div style="margin-top:28px">
				<h4 style="margin-bottom:12px; display:flex; align-items:center; gap:8px;">
					<i class="fas fa-handshake"></i> Outreach & Connect
				</h4>
				<div class="muted" style="font-size:13px; margin-bottom:12px;">News • Programs • Social Media</div>
				<div style="display:flex;gap:10px;margin-top:12px">
					<a href="#" aria-label="YouTube" class="btn" style="padding:8px 12px;"><i class="fab fa-youtube"></i></a>
					<a href="#" aria-label="Facebook" class="btn" style="padding:8px 12px;"><i class="fab fa-facebook-f"></i></a>
					<a href="#" aria-label="Instagram" class="btn" style="padding:8px 12px;"><i class="fab fa-instagram"></i></a>
				</div>
			</div>

			<div style="margin-top:28px" class="muted">
				<h4 style="margin-bottom:8px; display:flex; align-items:center; gap:8px;">
					<i class="fas fa-universal-access"></i> Accessibility
				</h4>
				<div style="font-size:13px">Options for better viewing experience</div>
				<div style="display:flex;gap:8px;margin-top:12px">
					<button class="btn" id="contrastToggle" style="font-size:12px; padding:6px 10px;">
						<i class="fas fa-adjust"></i> High Contrast
					</button>
					<button class="btn" id="textSizeToggle" style="font-size:12px; padding:6px 10px;">
						<i class="fas fa-text-height"></i> Text Size
					</button>
					<button class="btn" id="darkModeToggle" style="font-size:12px; padding:6px 10px;">
						<i class="fas fa-moon"></i> <span id="darkModeLabel">Dark Mode</span>
					</button>
					<select id="langSelect" class="btn" style="font-size:12px; padding:6px 10px;">
						<option value="en">English</option>
						<option value="bn">বাংলা</option>
					</select>
				</div>
			</div>
		</aside>

		<div class="overlay" id="overlay"></div>

		<main class="main">
			<div class="topbar">
				<div style="display:flex;align-items:center;gap:12px">
					<button class="btn" id="hamb" aria-label="Toggle menu">
						<i class="fas fa-bars"></i>
					</button>
					<div class="search" role="search">
						<i class="fas fa-search" aria-hidden="true"></i>
						<input id="globalSearch" placeholder="Search artifacts, stories, memorials..." aria-label="Search"/>
						<button class="btn" id="searchBtn" aria-label="Search button">Search</button>
					</div>
				</div>

				<div style="display:flex;align-items:center;gap:12px">
					<div id="userStatus" class="muted">Public Visitor</div>
					<div style="width:40px;height:40px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:white;font-weight:600">
						<span id="userInitials">PV</span>
					</div>
				</div>
			</div>

			<section class="content" id="page">
				<div>
					<main class="main-content">
						<div class="container-fluid px-0">
							<!-- Virtual Tour Header -->
							<div class="tour-header">
								<div class="container">
									<div class="row align-items-center">
										<div class="col-md-8">
											<h2><i class="fas fa-vr-cardboard"></i> Virtual Museum Tour</h2>
											<p class="lead">Experience the Liberation War Museum from anywhere in the world with our immersive 360° virtual tour.</p>
										</div>
										<div class="col-md-4 text-end">
											<div class="tour-controls">
												<button class="btn btn-outline-light" id="tourInfoBtn">
													<i class="fas fa-info-circle"></i> Tour Info
												</button>
												<button class="btn btn-light" id="fullscreenBtn">
													<i class="fas fa-expand"></i> Fullscreen
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!-- Virtual Tour Interface -->
							<div class="tour-interface">
								<!-- Main Tour Viewer -->
								<div class="tour-viewer" id="tourViewer">
									<div class="tour-loading" id="tourLoading">
										<div class="loading-spinner">
											<i class="fas fa-spinner fa-spin fa-3x"></i>
											<p>Loading Virtual Tour...</p>
										</div>
									</div>
                                    
									<!-- Tour Scene Container -->
									<div class="tour-scene" id="tourScene">
										<div class="scene-placeholder">
											<div class="scene-content">
												<i class="fas fa-museum fa-4x mb-3"></i>
												<h3>Welcome to Virtual Tour</h3>
												<p>Select a location from the sidebar to begin your virtual journey</p>
											</div>
										</div>
									</div>

									<!-- Scene Navigation Overlay -->
									<div class="scene-navigation" id="sceneNavigation">
										<!-- Navigation hotspots will be populated by JS -->
									</div>

									<!-- Scene Info Overlay -->
									<div class="scene-info" id="sceneInfo">
										<div class="info-panel">
											<button class="close-info" onclick="hideSceneInfo()">
												<i class="fas fa-times"></i>
											</button>
											<div class="info-content" id="infoContent">
												<!-- Info content will be populated by JS -->
											</div>
										</div>
									</div>
								</div>

								<!-- Tour Sidebar -->
								<div class="tour-sidebar" id="tourSidebar">
									<div class="sidebar-header">
										<h4>Tour Locations</h4>
										<button class="sidebar-toggle" id="sidebarToggle">
											<i class="fas fa-bars"></i>
										</button>
									</div>
                                    
									<div class="sidebar-content">
										<!-- Floor Selection -->
										<div class="floor-selection mb-3">
											<label class="form-label">Select Floor:</label>
											<select class="form-select" id="floorSelect">
												<option value="ground">Ground Floor</option>
												<option value="first">First Floor</option>
												<option value="second">Second Floor</option>
											</select>
										</div>

										<!-- Location List -->
										<div class="location-list" id="locationList">
											<!-- Locations will be populated by JS -->
										</div>

										<!-- Tour Progress -->
										<div class="tour-progress mt-4">
											<h6>Tour Progress</h6>
											<div class="progress">
												<div class="progress-bar" id="tourProgressBar" style="width: 0%"></div>
											</div>
											<small class="text-muted">
												<span id="visitedCount">0</span> of <span id="totalCount">0</span> locations visited
											</small>
										</div>

										<!-- Quick Actions -->
										<div class="quick-actions mt-4">
											<button class="btn btn-primary btn-sm w-100 mb-2" onclick="startGuidedTour()">
												<i class="fas fa-route me-2"></i>Start Guided Tour
											</button>
											<button class="btn btn-outline-primary btn-sm w-100 mb-2" onclick="resetTour()">
												<i class="fas fa-refresh me-2"></i>Reset Tour
											</button>
											<button class="btn btn-outline-secondary btn-sm w-100" onclick="downloadMap()">
												<i class="fas fa-download me-2"></i>Download Map
											</button>
										</div>
									</div>
								</div>
							</div>

							<!-- Mobile Tour Controls -->
							<div class="mobile-controls d-md-none">
								<button class="mobile-control-btn" onclick="toggleSidebar()">
									<i class="fas fa-map"></i>
								</button>
								<button class="mobile-control-btn" onclick="showTourControls()">
									<i class="fas fa-cog"></i>
								</button>
								<button class="mobile-control-btn" onclick="toggleFullscreen()">
									<i class="fas fa-expand"></i>
								</button>
							</div>
						</div>

						<!-- Tour Features Section -->
						<div class="container mt-5">
							<div class="tour-features">
								<h3 class="section-title">Virtual Tour Features</h3>
								<div class="row">
									<div class="col-md-4 mb-4">
										<div class="feature-card">
											<div class="feature-icon">
												<i class="fas fa-360-degrees"></i>
											</div>
											<h5>360° Panoramic Views</h5>
											<p>Explore every corner of the museum with high-resolution 360-degree photography.</p>
										</div>
									</div>
									<div class="col-md-4 mb-4">
										<div class="feature-card">
											<div class="feature-icon">
												<i class="fas fa-info-circle"></i>
											</div>
											<h5>Interactive Information</h5>
											<p>Click on artifacts and exhibits to learn detailed information and historical context.</p>
										</div>
									</div>
									<div class="col-md-4 mb-4">
										<div class="feature-card">
											<div class="feature-icon">
												<i class="fas fa-volume-up"></i>
											</div>
											<h5>Audio Commentary</h5>
											<p>Listen to expert narrations and stories as you navigate through the exhibits.</p>
										</div>
									</div>
									<div class="col-md-4 mb-4">
										<div class="feature-card">
											<div class="feature-icon">
												<i class="fas fa-route"></i>
											</div>
											<h5>Guided Tours</h5>
											<p>Follow curated paths through the museum with expert guidance and commentary.</p>
										</div>
									</div>
									<div class="col-md-4 mb-4">
										<div class="feature-card">
											<div class="feature-icon">
												<i class="fas fa-bookmark"></i>
											</div>
											<h5>Save Progress</h5>
											<p>Bookmark your favorite locations and resume your tour where you left off.</p>
										</div>
									</div>
									<div class="col-md-4 mb-4">
										<div class="feature-card">
											<div class="feature-icon">
												<i class="fas fa-share"></i>
											</div>
											<h5>Share Experience</h5>
											<p>Share specific locations and views with friends and family through social media.</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</main>
				</div>
			</section>

			<footer>
				© <strong>Digital Liberation War Museum</strong> — Honoring the Sacrifices of 1971 • Prototype v2.0
			</footer>
		</main>
	</div>

	<!-- Tour Info Modal -->
	<div class="tour-modal" id="tourInfoModal">
		<div class="tour-modal-content">
			<div class="tour-modal-header">
				<h4>Virtual Tour Guide</h4>
				<button class="close-modal" onclick="closeTourInfoModal()">
					<i class="fas fa-times"></i>
				</button>
			</div>
			<div class="tour-modal-body">
				<h5>How to Navigate</h5>
				<div class="navigation-instructions">
					<div class="instruction-item">
						<i class="fas fa-mouse-pointer"></i>
						<span>Click and drag to look around in 360°</span>
					</div>
					<div class="instruction-item">
						<i class="fas fa-scroll"></i>
						<span>Scroll to zoom in and out</span>
					</div>
					<div class="instruction-item">
						<i class="fas fa-hand-pointer"></i>
						<span>Click on hotspots to get more information</span>
					</div>
					<div class="instruction-item">
						<i class="fas fa-arrows-alt"></i>
						<span>Use arrow buttons to move between rooms</span>
					</div>
				</div>
                
				<h5 class="mt-4">Tour Tips</h5>
				<ul>
					<li>Start with the guided tour for the best experience</li>
					<li>Click on artifacts to learn their stories</li>
					<li>Use headphones for the best audio experience</li>
					<li>Take your time to explore each area thoroughly</li>
					<li>Save interesting locations to revisit later</li>
				</ul>
                
				<div class="text-center mt-4">
					<button class="btn btn-primary" onclick="closeTourInfoModal()">Start Tour</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Artifact Detail Modal -->
	<div class="artifact-modal" id="artifactModal">
		<div class="artifact-modal-content">
			<div class="artifact-modal-header">
				<h4 id="artifactTitle"></h4>
				<button class="close-modal" onclick="closeArtifactModal()">
					<i class="fas fa-times"></i>
				</button>
			</div>
			<div class="artifact-modal-body" id="artifactContent">
				<!-- Artifact details will be populated by JS -->
			</div>
		</div>
	</div>

	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Core JS -->
	<script src="../../shared/core.js"></script>
	<!-- Virtual Tour JS -->
	<script src="virtual-tour.js"></script>
</body>
</html>
