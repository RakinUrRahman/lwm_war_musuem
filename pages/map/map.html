<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Map of Memory — LWM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../assets/css/lwm.css">
    <link rel="stylesheet" href="map.css">
</head>
<body>
<div class="app" id="app">
    <aside class="side" id="side">
        <div class="brand">
            <div class="logo">LWM</div>
            <div>
                <h1 style="font-size:20px">Digital Liberation War Museum</h1>
                <div class="muted" style="font-size:13px">Honoring Bangladesh's History</div>
            </div>
        </div>
        <nav id="nav"></nav>
    </aside>
    <div class="overlay" id="overlay"></div>
    <main class="main">
        <div class="topbar">
            <div style="display:flex;gap:12px;align-items:center">
                <button class="btn" id="hamb"><i class="fas fa-bars"></i></button>
                <div class="search"><i class="fas fa-search"></i><input id="globalSearch" placeholder="Search..."/><button class="btn" id="searchBtn">Search</button></div>
            </div>
            <div style="display:flex;gap:12px;align-items:center">
                <div id="userStatus" class="muted">Public Visitor</div>
                <div style="width:40px;height:40px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600"><span id="userInitials">PV</span></div>
            </div>
        </div>

        <section class="content" id="page">
            <div class="container py-4">
                <h2><i class="fas fa-map-marked-alt me-2"></i>Map of Memory</h2>
                <p class="muted">Explore interactive floors, exhibits, and facilities that tell the story of the Liberation War.</p>

                <!-- BEGIN: Enhanced Museum Map (merged) -->
                <section class="museum-map-section mb-5">
                    <h3 class="section-title">Interactive Museum Map</h3>
                    <div class="museum-map-container">
                        <div class="museum-map" id="museumMap">
                            <!-- Floor Selector -->
                            <div class="floor-selector" role="tablist" aria-label="Floors">
                                <button class="floor-btn active" data-floor="ground" role="tab" aria-selected="true">
                                    <i class="fas fa-layer-group me-2" aria-hidden="true"></i><span data-i18n="map.floor.ground">Ground Floor</span>
                                </button>
                                <button class="floor-btn" data-floor="first" role="tab" aria-selected="false">
                                    <i class="fas fa-layer-group me-2" aria-hidden="true"></i><span data-i18n="map.floor.first">First Floor</span>
                                </button>
                                <button class="floor-btn" data-floor="second" role="tab" aria-selected="false">
                                    <i class="fas fa-layer-group me-2" aria-hidden="true"></i><span data-i18n="map.floor.second">Second Floor</span>
                                </button>
                            </div>

                            <!-- Map Container -->
                            <div class="map-container" id="mapContainer" aria-label="Interactive map area">
                                <!-- Current Floor Indicator -->
                                <div class="current-floor" aria-live="polite"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> <span>Ground Floor</span></div>

                                <!-- Zoom Controls -->
                                <div class="zoom-controls" aria-hidden="false">
                                    <button class="zoom-btn" id="zoomIn" aria-label="Zoom in"><i class="fas fa-plus"></i></button>
                                    <button class="zoom-btn" id="zoomOut" aria-label="Zoom out"><i class="fas fa-minus"></i></button>
                                    <button class="zoom-btn" id="resetView" aria-label="Reset view"><i class="fas fa-sync-alt"></i></button>
                                </div>

                                <!-- Map Tooltip -->
                                <div class="map-tooltip" id="mapTooltip" role="tooltip" hidden></div>

                                <!-- floor-plan and areas injected by JS -->
                            </div>

                            <!-- Legend -->
                            <div class="map-legend" aria-hidden="false">
                                <h5 data-i18n="map.legend.title">Legend</h5>
                                <div class="legend-item"><span class="legend-color exhibition" aria-hidden="true"></span><span data-i18n="map.legend.exhibition">Exhibition Halls</span></div>
                                <div class="legend-item"><span class="legend-color interactive" aria-hidden="true"></span><span data-i18n="map.legend.interactive">Interactive Zones</span></div>
                                <div class="legend-item"><span class="legend-color facility" aria-hidden="true"></span><span data-i18n="map.legend.facility">Facilities</span></div>
                                <div class="legend-item"><span class="legend-color restricted" aria-hidden="true"></span><span data-i18n="map.legend.restricted">Staff Areas</span></div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- END: Enhanced Museum Map (merged) -->

            </div>
        </section>

        <footer>© <strong>Digital Liberation War Museum</strong> — Honoring the Sacrifices of 1971 • Prototype v2.0</footer>
    </main>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../shared/core.js"></script>
<script src="map.js"></script>
</body>
</html>
