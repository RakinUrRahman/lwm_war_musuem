<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Media Gallery — Digital Liberation War Museum</title>
	<!-- Load Bootstrap first for grid helpers (theme will be overridden by our CSS) -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap">
	<link rel="stylesheet" href="../../assets/css/lwm.css">
	<link rel="stylesheet" href="media.css">
</head>
<body>
	<div class="app" id="app">
		<aside class="side" id="side">
			<div class="brand">
				<div class="logo">LWM</div>
				<div>
					<h1 style="font-size:20px">Digital Liberation War Museum</h1>
					<div class="muted" style="font-size:13px">Honoring Bangladesh's History</div>
				</div>
			</div>

			<nav role="navigation" aria-label="Main menu" id="nav"></nav>

			<div style="margin-top:28px">
				<h4 style="margin-bottom:12px; display:flex; align-items:center; gap:8px;">
					<i class="fas fa-handshake"></i> Outreach & Connect
				</h4>
				<div class="muted" style="font-size:13px; margin-bottom:12px;">News • Programs • Social Media</div>
				<div style="display:flex;gap:10px;margin-top:12px">
					<a href="#" aria-label="YouTube" class="btn" style="padding:8px 12px;"><i class="fab fa-youtube"></i></a>
					<a href="#" aria-label="Facebook" class="btn" style="padding:8px 12px;"><i class="fab fa-facebook-f"></i></a>
					<a href="#" aria-label="Instagram" class="btn" style="padding:8px 12px;"><i class="fab fa-instagram"></i></a>
				</div>
			</div>

			<div style="margin-top:28px" class="muted">
				<h4 style="margin-bottom:8px; display:flex; align-items:center; gap:8px;">
					<i class="fas fa-universal-access"></i> Accessibility
				</h4>
				<div style="font-size:13px">Options for better viewing experience</div>
				<div style="display:flex;gap:8px;margin-top:12px">
					<button class="btn" id="contrastToggle" style="font-size:12px; padding:6px 10px;">
						<i class="fas fa-adjust"></i> High Contrast
					</button>
					<button class="btn" id="textSizeToggle" style="font-size:12px; padding:6px 10px;">
						<i class="fas fa-text-height"></i> Text Size
					</button>
					<button class="btn" id="darkModeToggle" style="font-size:12px; padding:6px 10px;">
						<i class="fas fa-moon"></i> <span id="darkModeLabel">Dark Mode</span>
					</button>
					<select id="langSelect" class="btn" style="font-size:12px; padding:6px 10px;">
						<option value="en">English</option>
						<option value="bn">বাংলা</option>
					</select>
				</div>
			</div>
		</aside>

		<div class="overlay" id="overlay"></div>

		<main class="main">
			<div class="topbar">
				<div style="display:flex;align-items:center;gap:12px">
					<button class="btn" id="hamb" aria-label="Toggle menu">
						<i class="fas fa-bars"></i>
					</button>
					<div class="search" role="search">
						<i class="fas fa-search" aria-hidden="true"></i>
						<input id="globalSearch" placeholder="Search artifacts, stories, memorials..." aria-label="Search"/>
						<button class="btn" id="searchBtn" aria-label="Search button">Search</button>
					</div>
				</div>

				<div style="display:flex;align-items:center;gap:12px">
					<div id="userStatus" class="muted">Public Visitor</div>
					<div style="width:40px;height:40px;border-radius:50%;background:var(--accent);display:flex;align-items:center;justify-content:center;color:white;font-weight:600">
						<span id="userInitials">PV</span>
					</div>
				</div>
			</div>

			<section class="content" id="page">
				<div>
					<!-- Media Hero Section -->
					<section class="media-hero py-5">
						<div class="container">
								<div class="row align-items-center">
										<div class="col-lg-8">
												<h1 class="display-4 fw-bold text-white mb-3" data-translate="media_title">
														Media Gallery
												</h1>
												<p class="lead text-white-75 mb-4" data-translate="media_subtitle">
														Explore photos, videos, and audio recordings that capture the essence of Bangladesh's Liberation War
												</p>
												<div class="media-stats d-flex flex-wrap gap-4">
														<div class="stat-item">
																<h3 class="h5 mb-1" id="photoCount">0</h3>
																<small data-translate="photos">Photos</small>
														</div>
														<div class="stat-item">
																<h3 class="h5 mb-1" id="videoCount">0</h3>
																<small data-translate="videos">Videos</small>
														</div>
														<div class="stat-item">
																<h3 class="h5 mb-1" id="audioCount">0</h3>
																<small data-translate="audio_files">Audio Files</small>
														</div>
												</div>
										</div>
										<div class="col-lg-4 text-center">
												<div class="media-hero-icon">
														<i class="fas fa-photo-video fa-6x text-white opacity-75"></i>
												</div>
										</div>
								</div>
						</div>
					</section>

					<!-- Media Filters -->
					<section class="media-filters py-4 bg-light">
						<div class="container">
								<div class="row">
										<div class="col-lg-8">
												<div class="d-flex flex-wrap gap-3">
														<div class="filter-group">
																<label class="form-label small fw-bold">Media Type:</label>
																<select class="form-select form-select-sm" id="mediaTypeFilter">
																		<option value="all">All Media</option>
																		<option value="photos">Photos</option>
																		<option value="videos">Videos</option>
																		<option value="audio">Audio</option>
																</select>
														</div>
														<div class="filter-group">
																<label class="form-label small fw-bold">Category:</label>
																<select class="form-select form-select-sm" id="categoryFilter">
																		<option value="all">All Categories</option>
																		<option value="battles">Battles</option>
																		<option value="heroes">Heroes</option>
																		<option value="civilians">Civilians</option>
																		<option value="ceremonies">Ceremonies</option>
																		<option value="artifacts">Artifacts</option>
																		<option value="documents">Documents</option>
																</select>
														</div>
														<div class="filter-group">
																<label class="form-label small fw-bold">Year:</label>
																<select class="form-select form-select-sm" id="yearFilter">
																		<option value="all">All Years</option>
																		<option value="1971">1971</option>
																		<option value="1970">1970</option>
																		<option value="1969">1969</option>
																		<option value="1952">1952</option>
																</select>
														</div>
												</div>
										</div>
										<div class="col-lg-4">
												<div class="d-flex gap-2">
														<div class="input-group">
																<input type="text" class="form-control form-control-sm" id="mediaSearch" placeholder="Search media...">
																<button class="btn btn-outline-secondary btn-sm" type="button" id="searchBtn">
																		<i class="fas fa-search"></i>
																</button>
														</div>
														<div class="view-controls">
																<div class="btn-group btn-group-sm" role="group">
																		<button type="button" class="btn btn-outline-secondary active" id="gridViewBtn">
																				<i class="fas fa-th"></i>
																		</button>
																		<button type="button" class="btn btn-outline-secondary" id="listViewBtn">
																				<i class="fas fa-list"></i>
																		</button>
																</div>
														</div>
												</div>
										</div>
								</div>
						</div>
					</section>

					<!-- Media Gallery -->
					<section class="media-gallery py-5">
						<div class="container">
								<div class="row">
										<!-- Media Grid -->
										<div class="col-lg-9">
												<div id="mediaResults" class="mb-4">
														<div class="d-flex justify-content-between align-items-center">
																<span class="text-muted" id="resultsCount">Loading media...</span>
																<div class="sort-controls">
																		<select class="form-select form-select-sm" id="sortSelect">
																				<option value="newest">Newest First</option>
																				<option value="oldest">Oldest First</option>
																				<option value="title">Title A-Z</option>
																				<option value="popular">Most Popular</option>
																		</select>
																</div>
														</div>
												</div>

												<!-- Media Items Grid -->
												<div id="mediaGrid" class="media-grid">
														<!-- Media items will be populated by JavaScript -->
												</div>

												<!-- Pagination -->
												<nav aria-label="Media pagination" class="mt-5">
														<ul class="pagination justify-content-center" id="mediaPagination">
																<!-- Pagination will be populated by JavaScript -->
														</ul>
												</nav>
										</div>

										<!-- Sidebar -->
										<div class="col-lg-3">
												<div class="media-sidebar">
														<!-- Featured Media -->
														<div class="sidebar-section">
																<h5 class="sidebar-title">Featured Media</h5>
																<div id="featuredMedia">
																		<!-- Featured items will be populated by JavaScript -->
																</div>
														</div>

														<!-- Popular Downloads -->
														<div class="sidebar-section">
																<h5 class="sidebar-title">Popular Downloads</h5>
																<div id="popularDownloads">
																		<!-- Popular downloads will be populated by JavaScript -->
																</div>
														</div>

														<!-- Media Categories -->
														<div class="sidebar-section">
																<h5 class="sidebar-title">Browse by Category</h5>
																<div id="categoryList" class="category-list">
																		<!-- Categories will be populated by JavaScript -->
																</div>
														</div>

														<!-- Upload Media -->
														<div class="sidebar-section">
																<div class="upload-section p-3 text-center">
																		<i class="fas fa-cloud-upload-alt fa-2x text-primary mb-2"></i>
																		<h6>Share Your Media</h6>
																		<p class="small text-muted mb-3">Help preserve history by sharing your photos and videos</p>
																		<button class="btn btn-primary btn-sm" onclick="showUploadModal()">
																				<i class="fas fa-plus me-1"></i>Upload Media
																		</button>
																</div>
														</div>
												</div>
										</div>
								</div>
						</div>
					</section>
				</div>
			</section>

			<footer>
				© <strong>Digital Liberation War Museum</strong> — Honoring the Sacrifices of 1971 • Prototype v2.0
			</footer>
		</main>
	</div>

	<!-- Media Detail Modal -->
	<div class="modal fade" id="mediaModal" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog modal-lg modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="mediaModalTitle">Media Details</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id="mediaModalBody">
					<!-- Media content will be populated by JavaScript -->
				</div>
				<div class="modal-footer">
					<div class="media-actions d-flex gap-2 w-100">
						<button type="button" class="btn btn-outline-primary" id="downloadMediaBtn">
							<i class="fas fa-download me-1"></i>Download
						</button>
						<button type="button" class="btn btn-outline-secondary" id="shareMediaBtn">
							<i class="fas fa-share me-1"></i>Share
						</button>
						<button type="button" class="btn btn-outline-danger" id="favoriteMediaBtn">
							<i class="far fa-heart me-1"></i>Favorite
						</button>
						<div class="ms-auto">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Upload Media Modal -->
	<div class="modal fade" id="uploadModal" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Upload Media</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form id="uploadForm">
						<div class="mb-3">
							<label for="uploadFile" class="form-label">Select File</label>
							<input type="file" class="form-control" id="uploadFile" accept="image/*,video/*,audio/*" required>
							<div class="form-text">Supported formats: JPG, PNG, MP4, MP3, WAV (Max 50MB)</div>
						</div>
						<div class="mb-3">
							<label for="uploadTitle" class="form-label">Title</label>
							<input type="text" class="form-control" id="uploadTitle" required>
						</div>
						<div class="mb-3">
							<label for="uploadDescription" class="form-label">Description</label>
							<textarea class="form-control" id="uploadDescription" rows="3"></textarea>
						</div>
						<div class="mb-3">
							<label for="uploadCategory" class="form-label">Category</label>
							<select class="form-select" id="uploadCategory" required>
								<option value="">Select Category</option>
								<option value="battles">Battles</option>
								<option value="heroes">Heroes</option>
								<option value="civilians">Civilians</option>
								<option value="ceremonies">Ceremonies</option>
								<option value="artifacts">Artifacts</option>
								<option value="documents">Documents</option>
							</select>
						</div>
						<div class="mb-3">
							<label for="uploadYear" class="form-label">Year</label>
							<input type="number" class="form-control" id="uploadYear" min="1950" max="2025">
						</div>
						<div class="mb-3">
							<label for="uploadTags" class="form-label">Tags</label>
							<input type="text" class="form-control" id="uploadTags" placeholder="Enter tags separated by commas">
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-primary" onclick="submitUpload()">
						<i class="fas fa-upload me-1"></i>Upload
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Scripts -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script src="../../shared/core.js"></script>
	<script src="media.js"></script>
</body>
</html>
